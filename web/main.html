<head>
    <title>Charge For Each Email You Get</title>
    <link rel="icon" type="image/png" href="img/favico.png">
</head>

<body>
    <div fit horizontal center-justified layout center>
        {{> topBar}}
        
        {{> UI.dynamic template=subscribeStatus }} <!-- intro | signup | signup_done -->
    </div>
    
<!--
    {{> signup}}
-->

    <!--  <h1>Mail protected by Bitcoin payment</h1>
  <p> Create an email alias @bost.me. It has to be paid to send a message to this email.
  All unpaid emails are rejected with "pay form" reply. Whitelist sender to make sender free to send messages 
  </p>-->

</body>

<template name="topBar">
    <div class="top_bar">
        <div>
            <a href="/"><img src="img/logo.png" class="logo"></a>
        </div>
        <div class="align_right" style="float: right">
            <a href="/#/howitworks" >How it works</a>
        </div>
    </div>
</template>

<template name="intro">
    <div class="content align_center">
        <span style="display: block; height:50px"></span>
        <h1>Make people think before they send you a cold email</h1>
        <h3 class="comment">Charge for each email you get</h3>
        <span style="display: block; height:50px"></span>
        <button id="getEmail">Sounds good <img src="img/arrow_right.png" style="height: 24px; margin: 0px -8px -5px 12px;"></button>
    </div>
</template>

<template name="signup">
    <div style="line-height: 1.4" class="content align_center">
        <span style="display: block; height:30px"></span>
        <h2>Forward emails from<br>
            <div class="input input-{{aliasValidateStatus}}" id="alias" contenteditable="true" data-ph="your.name" spellcheck="false"></div>@wrte.io to
            <div class="error error-{{aliasValidateStatus}}" id="aliasError">
                <img src="img/icon_error.png" class="error_icon">
                {{#case aliasValidateStatus='alias_empty'}}
                Name is<br>empty
                {{/case}}
                {{#case aliasValidateStatus='alias_wrong_syntax'}}
                No whitespace<br>allowed!
                {{/case}}
                {{#case aliasValidateStatus='alias_exists'}}
                This name has<br>been taken
                {{/case}}
            </div>
            <br>
            <div class="input input-{{emailValidateStatus}}" id="email" contenteditable="true" data-ph="your.private@email.com" spellcheck="false"></div>
            <div class="error error-{{emailValidateStatus}}" id="emailError">
                <img src="img/icon_error.png" class="error_icon">
                {{#case emailValidateStatus='email_empty'}}
                Email field<br>is empty
                {{/case}}
                {{#case emailValidateStatus='email_wrong_syntax'}}
                Wrong email<br>format
                {{/case}}
                {{#case emailValidateStatus='email_exists'}}
                This email has<br>been already registered
                {{/case}}
            </div>
            <br>
            when <div class="input input-{{priceValidateStatus}}" id="price" contenteditable="true" data-ph="0.1" spellcheck="false" ></div>
            <div id="estimation">≈ ${{mBTCRate}}</div> bitcoin is paid
            <div class="error error-{{priceValidateStatus}}">
                <img src="img/icon_error.png" class="error_icon">
                {{#case priceValidateStatus='price_nan'}}
                Must be<br>a number
                {{/case}}
                {{#case priceValidateStatus='price_toosmall'}}
                Can not be less than<br>satoshi (1 / 100 000 000 BTC)
                {{/case}}
            </div>
        </h2>
        <span style="display: block; height:30px"></span>
        <!--<div>{{errorMessage}}</div>-->
        <button>Create an account</button>
    </div>
</template>

<template name="signup_done">
    <div style="line-height: 1.4" class="content align_center">
        <h1><img src="img/icon_done.png" style="width: 80px; margin-bottom: -20px;"> Done!</h1>
        <br><br>You have claimed {{registredEmail}}<br>
        <h2>We will let you know<br> when the beta is launched</h2>
        <span style="display: block; height:50px"></span>
        <a href="" id="linkToHow">How it works</a>
    </div>
</template>

<template name="how">
    <div style="width: 100%; height: 100%; overflow-y: auto;">
        <div style="line-height: 1.4; margin: 100px auto;" class="content  align_center">
            <!--<h4>How it will work</h4>-->
            <span style="display: block; height:50px"></span>
            <div horizontal layout center>
                <h2 class="numbering">1</h2>
                <h2 class="align_left">A person sends an email<br>to your address at wrte.io</h2>
            </div>
            <img src="img/how_1.png" style="width: 533px">
            <span style="display: block; height:80px"></span>
            <div horizontal layout center>
                <h2 class="numbering">2</h2>
                <h2 class="align_left">He gets reply with an invoice</h2>
            </div>
            <img src="img/how_2.png" style="width:464px">
            <span style="display: block; height:80px"></span>
            <div horizontal layout center>
                <h2 class="numbering">3</h2>
                <h2 class="align_left">Once payments is verified we forward his message to your personal email</h2>
            </div>
            <img src="img/how_3.png" style="width: 529px">
            <span style="display: block; height:80px"></span>
            <div horizontal layout center>
                <h2 class="numbering">4</h2>
                <h2 class="align_left">
                    All bitcoins are stored in your account at wrte.io. You can transfer them any time to your bitcoin wallet.
                </h2>
            </div>
            <img src="img/how_4.png" style="width: 613px">
            <span style="display: block; height:80px"></span>
            <h1>Questions?</h1>
            <h3>Write to <a href="mailto:support@wrte.io">support@wrte.io</a></h3>
        </div>
    </div>
</template>



<template name="signup2">
  {{> step1}}
  {{> step2}}
  <!--{{#if lastError}}-->
  <!--error: {{lastError}}-->
  <!--{{/if}}-->
  <button>sign up</button>
</template>

<template name="step1">
<p>
    <input type="text" id="alias" placeholder="john.smith"/>@bost.me forwards to 
    <input type="text" id="email" placeholder="john.smith@gmail.com"/> 
    <br> {{aliasValidateStatus}} / {{emailValidateStatus}}
</p>
</template>

<template name="step2">
<p>
price per message <input id="price" type="text" placeholder="1">mBTC (≈{{mBTCRate}}$)  
</p>
<p>
<ul>
    <li><input type="radio" name="dest" checked value="create"/> create wallet on coinbase to receive payments </li>
    <li><input type="radio" name="dest" value="use"/> specify existing bitcoin address
    <input type="text" id="btcAddress" placeholder="17RaXYmZLVmLt2Gf2yo1MdTod7gEn4uKcW"/>  </li>
    <!--<li><input type="radio" name="dest"/> send money to watsi.org charity</li>-->
</ul>
</p>
</template>

<template name="_case_default">
  {{> UI.contentBlock}}
</template>

